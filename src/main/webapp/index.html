<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Base href will be set dynamically by JavaScript -->
    <base id="baseTag" href="/">
    <script>
        // Set base href dynamically based on current pathname
        (function() {
            const pathname = window.location.pathname;
            // Remove trailing slash and filename, keep context path
            const basePath = pathname.substring(0, pathname.lastIndexOf('/')) || '/';
            const baseTag = document.getElementById('baseTag');
            if (baseTag) {
                baseTag.href = basePath.endsWith('/') ? basePath : basePath + '/';
            }
        })();
    </script>
    
    <!-- Primary Meta Tags -->
    <title>PEPPOL E-Invoice XML Document Validator | Eaglessoft</title>
    <meta name="title" content="PEPPOL E-Invoice XML Document Validator | Eaglessoft">
    <meta name="description" content="Validate your XML documents according to Peppol and EN16931 standards. Free online PEPPOL e-invoice validation tool powered by PHIVE.">
    <meta name="keywords" content="PEPPOL, e-invoice, XML validation, EN16931, invoice validation, Peppol BIS 3, document compliance">
    <meta name="author" content="Eaglessoft">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tools.docnaut.com/peppol-e-invoice-xml-document-validator/">
    <meta property="og:title" content="PEPPOL E-Invoice XML Document Validator | Eaglessoft">
    <meta property="og:description" content="Validate your XML documents according to Peppol and EN16931 standards. Free online PEPPOL e-invoice validation tool.">
    <meta property="og:image" content="https://tools.docnaut.com/peppol-e-invoice-xml-document-validator/sources/EAGLESSOFT-White@3x.png">
    <meta property="og:site_name" content="Eaglessoft">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tools.docnaut.com/peppol-e-invoice-xml-document-validator/">
    <meta property="twitter:title" content="PEPPOL E-Invoice XML Document Validator | Eaglessoft">
    <meta property="twitter:description" content="Validate your XML documents according to Peppol and EN16931 standards. Free online PEPPOL e-invoice validation tool.">
    <meta property="twitter:image" content="https://tools.docnaut.com/peppol-e-invoice-xml-document-validator/sources/EAGLESSOFT-White@3x.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="sources/FAVICON.svg">
    <link rel="alternate icon" type="image/x-icon" href="sources/favicon.ico">
    <link rel="alternate icon" type="image/png" sizes="32x32" href="sources/favicon-32x32.png">
    <link rel="alternate icon" type="image/png" sizes="16x16" href="sources/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="sources/apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    <meta name="theme-color" content="#063389">
    
    <!-- Fallback favicon if SVG not supported -->
    <link rel="shortcut icon" href="sources/FAVICON.svg">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="top-bar">
        <div class="top-bar-content">
            <a href="https://eaglessoft.com/" target="_blank" rel="noopener noreferrer" class="logo-container">
                <img src="sources/EAGLESSOFT-White@3x.png" alt="Eaglessoft Logo">
            </a>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Document Compliance Check</h1>
                <p class="subtitle">Validate your XML documents according to Peppol and EN16931 standards</p>
            </div>
        </header>

        <main>
            <div class="upload-section">
                <div class="card">
                    <h2>Upload and Validate File</h2>
                    
                    <form id="validationForm" enctype="multipart/form-data">
                        <div class="form-group">
                            <div class="input-method-selector">
                                <label class="method-tab" for="fileMethod">
                                    <input type="radio" name="inputMethod" value="file" id="fileMethod">
                                    <span class="method-tab-content">
                                        <span class="method-icon">üì§</span>
                                        <span class="method-text">Upload File</span>
                                    </span>
                                </label>
                                <label class="method-tab active" for="pasteMethod">
                                    <input type="radio" name="inputMethod" value="paste" id="pasteMethod" checked>
                                    <span class="method-tab-content">
                                        <span class="method-icon">üìã</span>
                                        <span class="method-text">Paste Content</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group" id="pasteContentGroup">
                            <div class="textarea-wrapper">
                                <div class="line-numbers" id="lineNumbers"></div>
                                <textarea id="pasteContent" name="pasteContent" rows="15" placeholder="Paste your XML content here..." class="paste-textarea"></textarea>
                            </div>
                        </div>

                        <div class="form-group" id="fileUploadGroup" style="display: none;">
                            <label for="fileInput" class="file-label">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-text" id="fileText">Select XML file</span>
                                <input type="file" id="fileInput" name="file" accept=".xml">
                            </label>
                        </div>

                        <div class="form-group">
                            <label for="ruleSelect">Validation Rule:</label>
                            <div class="custom-select-wrapper">
                                <div class="custom-select-trigger" id="ruleSelectTrigger">
                                    <span id="ruleSelectText">Select a rule...</span>
                                    <span class="select-arrow">‚ñº</span>
                                </div>
                                <div class="custom-select-dropdown" id="ruleDropdown" style="display: none;">
                                    <div class="rule-search-in-dropdown">
                                        <input type="text" 
                                               id="ruleSearch" 
                                               placeholder="Search rules..." 
                                               autocomplete="off">
                                        <span class="search-icon">üîç</span>
                                    </div>
                                    <div class="rule-filter-options">
                                        <label class="filter-checkbox-label">
                                            <input type="checkbox" id="hideDeprecatedRules" checked>
                                            <span>Hide deprecated rules</span>
                                        </label>
                                    </div>
                                    <div class="rule-list" id="ruleList">
                                        <div class="rule-loading">Loading...</div>
                                    </div>
                                </div>
                                <input type="hidden" id="ruleSelect" name="rule" required>
                            </div>
                            <small class="help-text">Filter by searching or select from the list</small>
                        </div>

                        <button type="submit" id="submitBtn" class="btn-primary" disabled>
                            <span class="btn-text">Validate</span>
                            <span class="btn-loader" style="display: none;">‚è≥</span>
                        </button>
                    </form>
                </div>
            </div>

            <div id="resultSection" class="result-section" style="display: none;">
                <div class="card">
                    <h2>Validation Results</h2>
                    <div id="resultContent"></div>
                </div>
            </div>

            <div id="errorSection" class="error-section" style="display: none;">
                <div class="card error-card">
                    <h2>‚ùå Error</h2>
                    <div id="errorContent"></div>
                </div>
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <p class="footer-brand">Eaglessoft</p>
                <p class="footer-tech">Powered by <a href="https://github.com/phax/phive" target="_blank" rel="noopener noreferrer" class="footer-link">Phive</a> (Philip Helger)</p>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>

